{% extends 'base.html' %}
{% block title %}Admin Dashboard{% endblock %}
{% block content %}
<h3>Dashboard Admin</h3>
<table class="table">
  <thead>
    <tr><th>Nombre</th><th>Stock</th><th>Mínimo</th><th>Acciones</th></tr>
  </thead>
  <tbody>
    {% for s in supplies %}
      <tr class="{% if s.current_stock <= s.min_stock %}table-danger{% endif %}">
        <td>{{ s.name }}</td>
        <td>{{ s.current_stock }}</td>
        <td>{{ s.min_stock }}</td>
        <td>
          <!-- form para update/delete -->
          <form class="d-inline" method="post">
            <input type="hidden" name="action" value="update">
            <input type="hidden" name="id" value="{{ s.id }}">
            <button class="btn btn-sm btn-warning">Editar</button>
          </form>
          <form class="d-inline" method="post">
            <input type="hidden" name="action" value="delete">
            <input type="hidden" name="id" value="{{ s.id }}">
            <button class="btn btn-sm btn-danger">Eliminar</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
<hr>
<h5>Agregar Insumo</h5>
<form method="post">
  <input type="hidden" name="action" value="add">
  <div class="row">
    <div class="col"><input name="name" class="form-control" placeholder="Nombre" required></div>
    <div class="col"><input name="min_stock" type="number" class="form-control" placeholder="Mínimo" required></div>
    <div class="col"><input name="current_stock" type="number" class="form-control" placeholder="Actual" required></div>
    <div class="col-auto"><button class="btn btn-success">Agregar</button></div>
  </div>
</form>
{% endblock %}
